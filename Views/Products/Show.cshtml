@model ItiUmplemFrigiderul.Models.Product

<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />

@{
    ViewData["Title"] = "View Product";
}

<h2>@Model.Name</h2>

<div class="media">
    <img class="mr-3" src="@Model.Photo" alt="@Model.Name" style="width: 200px;">
    <div class="media-body">
        <h5 class="mt-0">Description</h5>
        @Model.Description
    </div>
</div>

@foreach (var prod in Model.FarmProducts)
@if(ViewBag.AfisareButoane || prod.Verified)
{
    <div class="container">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8 card">
                <div>
                    <h4>@prod.Farm.Name</h4>
                    <strong><i class="bi bi-person"> @prod.Price lei</i></strong>
                    <p>@prod.Stock buc.</p>
                    <p>Rating: @prod.Rating<i class="fa-solid fa-star"></i></p>
                </div>
                <div>
                        <a class="btn btn-outline-primary" asp-controller="FarmProducts" asp-action="Show" asp-route-id="@prod.Id">
                            <i class="bi bi-pencil-square"></i> Detalii
                        </a>
                        <form method="post" asp-controller="Cart" asp-action="Add" asp-route-id="@prod.Id">

                            <button class="btn btn-outline-primary" type="submit">Adauga in cos</button>

                        </form>
                </div>
            </div>
        </div>
    </div>         
}
@* Displaying the user's rights and action buttons based on their roles *@
@if (ViewBag.AfisareButoane)
{
    <div class="d-flex flex-row justify-content-between">

        <a class="btn btn-success" asp-controller="Products" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
        @*<a href="/Products/Index" class="btn btn-secondary">Back to list</a>*@
        <form method="post" asp-controller="Products" asp-action="Delete" asp-route-id="@Model.Id">

            <button class="btn btn-danger" type="submit">Delete</button>

        </form>

    </div>
}

